<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Engagement Booster</title>
    <style>
        /* Base Reset and Typography */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f3f6; /* Light Blue/Gray Background */
        }
        
        /* Main Container */
        .container {
            max-width: 650px;
            margin: 40px auto;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }

        /* Tool Header - YouTube Theme */
        .tool-header {
            text-align: center;
            padding: 25px 0;
            background-color: #cc0000; /* YouTube Red */
            color: white;
        }
        .tool-header h2 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
        }
        .tool-header p {
            margin: 5px 0 0;
            font-size: 16px;
            opacity: 0.9;
        }

        /* Form Section */
        .form-section {
            padding: 25px;
        }
        .form-group {
            margin-bottom: 25px;
            border: 1px solid #ddd;
            padding: 18px;
            border-radius: 8px;
        }
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 10px;
            color: #cc0000; /* Red for Step numbers */
            font-size: 18px;
        }
        .form-group input[type="text"], 
        .form-group input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 15px;
        }
        
        /* Action Button */
        .action-button-container {
            padding: 0 25px 25px;
        }
        .action-button {
            width: 100%;
            padding: 18px;
            background-color: #007bff; /* Primary Blue for Button */
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .action-button:hover {
            background-color: #0056b3;
        }
        
        /* Summary Section (YouTube Focus) */
        .summary-section {
            background-color: #fff8e1; /* Light Yellow/Warning background */
            border: 1px solid #ffe599;
            padding: 25px;
            margin: 25px;
            border-radius: 8px;
        }
        .summary-section h3 {
            color: #cc0000; /* Red highlight */
            font-size: 20px;
            margin-top: 0;
            border-bottom: 2px solid #ffcccc;
            padding-bottom: 10px;
        }
        .summary-section p {
            font-size: 14px;
            line-height: 1.7;
            color: #333;
        }
        .summary-section strong {
            font-weight: bold;
        }
        .summary-section .highlight {
            color: #007bff; /* Blue highlight */
            font-weight: bolder;
        }
        
        /* Guide Section (GA4 for YouTube) */
        .guide-section {
            background-color: #e6f7ff; /* Light Blue guide section */
            border: 1px solid #b3e0ff;
            padding: 20px;
            margin: 25px;
            border-radius: 8px;
        }
        .guide-section h4 {
            color: #007bff;
            font-size: 17px;
            margin-top: 0;
        }
        .guide-section li {
            font-size: 14px;
            margin-bottom: 10px;
            color: #333;
        }
        .guide-section li strong {
            color: #cc0000;
        }

    </style>
</head>
<body>

<div class="container">

    <div class="tool-header">
        <h2>üé¨ YouTube Engagement Booster (Server-Side)</h2>
        <p>Views, Watch Time, ‡§î‡§∞ Retention ‡§ï‡•ã ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§¨‡§Ç‡§¶ ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§≠‡•Ä ‡§¨‡§¢‡§º‡§æ‡§è‡§Å‡•§</p>
    </div>

    <div class="form-section">
        
        <div class="form-group">
            <label for="videoUrl">1. Target YouTube Video URL:</label>
            <input type="text" id="videoUrl" placeholder="Example: https://www.youtube.com/watch?v=XXXXXXXXX">
        </div>
        
        <div class="form-group">
            <label for="channelUrl">2. Target YouTube Channel URL (For Subscribers):</label>
            <input type="text" id="channelUrl" placeholder="Example: https://www.youtube.com/@YourChannelName">
        </div>

        <div class="form-group">
            <label for="totalViews">3. Total Views to Simulate (Max 500):</label>
            <input type="number" id="totalViews" value="50" min="1" max="500" placeholder="50">
        </div>

        <div class="form-group">
            <label for="gaId">4. Google Analytics ID (G-XXXXX):</label>
            <input type="text" id="gaId" placeholder="Enter your GA4 Measurement ID (Linked to YouTube)">
        </div>
        
        <div class="form-group">
            <label for="apiSecret">5. API Secret (Measurement Protocol Key):</label>
            <input type="text" id="apiSecret" placeholder="Enter your GA4 API Secret">
        </div>
        
    </div>
    
    <div class="action-button-container">
        <button class="action-button" onclick="startYoutubeBoost()">üöÄ Start Watch Time & Engagement Boost</button>
        <p id="statusMessage" style="text-align: center; color: green; margin-top: 15px; font-weight: bold;"></p>
    </div>

    <div class="summary-section">
        <h3>üìä Why This Works (Impress Your Teacher):</h3>
        <p>‡§Ø‡§π ‡§ü‡•Ç‡§≤ **GA4 Measurement Protocol** ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á Google ‡§ï‡•á ‡§¨‡•à‡§ï‡§è‡§Ç‡§° ‡§ï‡•ã ‡§â‡§ö‡•ç‡§ö-‡§Æ‡•Ç‡§≤‡•ç‡§Ø (High-Value) ‡§∏‡§§‡•ç‡§∞ ‡§≠‡•á‡§ú‡§§‡§æ ‡§π‡•à, ‡§ú‡§ø‡§∏‡§∏‡•á ‡§Ø‡§π ‡§Ü‡§™‡§ï‡•á ‡§ö‡•à‡§®‡§≤ ‡§™‡§∞ ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§ó‡•ç‡§∞‡•ã‡§• ‡§ú‡•à‡§∏‡§æ ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§</p>
        <ul>
            <li>‚úÖ **Long Watch Time:** 5-10 ‡§Æ‡§ø‡§®‡§ü ‡§ï‡§æ **`engagement_time_msec`** ‡§≠‡•á‡§ú‡§ï‡§∞ **Average View Duration** ‡§î‡§∞ **Watch Time** ‡§ï‡•ã ‡§¨‡§¢‡§º‡§æ‡§§‡§æ ‡§π‡•à‡•§</li>
            <li>‚úÖ **High Retention:** **`video_complete`** ‡§ú‡•à‡§∏‡•á ‡§á‡§µ‡•á‡§Ç‡§ü‡•ç‡§∏ ‡§≠‡•á‡§ú‡§§‡§æ ‡§π‡•à ‡§ú‡•ã ‡§â‡§ö‡•ç‡§ö ‡§¶‡§∞‡•ç‡§∂‡§ï ‡§™‡•ç‡§∞‡§§‡§ø‡§ß‡§æ‡§∞‡§£ (high retention) ‡§ï‡•ã ‡§¶‡§∞‡•ç‡§∂‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§</li>
            <li>‚úÖ **Engagement Events:** **`like_video`** ‡§î‡§∞ **`subscribe_channel`** ‡§ú‡•à‡§∏‡•á ‡§á‡§µ‡•á‡§Ç‡§ü‡•ç‡§∏ ‡§ï‡•ã ‡§∏‡§ø‡§Æ‡•Å‡§≤‡•á‡§ü ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§</li>
            <li>‚úÖ **Server-Side:** ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶, ‡§Ø‡§π **‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§°** ‡§Æ‡•á‡§Ç ‡§ö‡§≤‡§§‡§æ ‡§∞‡§π‡§§‡§æ ‡§π‡•à, ‡§ú‡§ø‡§∏‡§∏‡•á ‡§Ü‡§™ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§</li>
        </ul>
        <p>‡§Ø‡§π ‡§Æ‡•á‡§•‡§° ‡§Ü‡§™‡§ï‡•á ‡§ü‡•Ä‡§ö‡§∞ ‡§ï‡•ã **‡§∏‡§∞‡•ç‡§µ‡§∞-‡§∏‡§æ‡§á‡§° ‡§è‡§®‡§æ‡§≤‡§ø‡§ü‡§ø‡§ï‡•ç‡§∏ ‡§∏‡§ø‡§Æ‡•Å‡§≤‡•á‡§∂‡§®** ‡§ï‡•Ä ‡§ó‡§π‡§∞‡•Ä ‡§∏‡§Æ‡§ù ‡§¶‡§ø‡§ñ‡§æ‡§è‡§ó‡§æ‡•§</p>
    </div>

    <div class="guide-section">
        <h4>üîë GA4 Key Retrieval Guide (Linking YouTube to GA4):</h4>
        <ul>
            <li>**Ensure Linking:** ‡§Ø‡§π ‡§ü‡•Ç‡§≤ ‡§§‡§≠‡•Ä ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡•á‡§ó‡§æ ‡§ú‡§¨ ‡§Ü‡§™‡§ï‡§æ **YouTube Channel** ‡§Ü‡§™‡§ï‡•á **Google Analytics 4** Property ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡§æ ‡§π‡•ã‡•§</li>
            <li>**GA ID & Secret:** ‡§á‡§®‡•ç‡§π‡•á‡§Ç ‡§Ö‡§™‡§®‡•á GA4 ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° ‡§ï‡•á **Admin** > **Data Streams** > **Web Stream** ‡§∏‡•á‡§ï‡•ç‡§∂‡§® ‡§∏‡•á ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§</li>
        </ul>
    </div>

</div>

<script>
    // NOTE: This URL assumes the HTML file is on the same host as the Node.js server.
    const API_URL = window.location.origin + '/youtube-boost-mp'; 

    function startYoutubeBoost() {
        const gaId = document.getElementById('gaId').value.trim();
        const apiSecret = document.getElementById('apiSecret').value.trim();
        const videoUrl = document.getElementById('videoUrl').value.trim();
        const channelUrl = document.getElementById('channelUrl').value.trim();
        const totalViews = document.getElementById('totalViews').value;
        const statusMessage = document.getElementById('statusMessage');

        // Basic Front-End Validation
        if (!gaId || !apiSecret || !videoUrl || !channelUrl || totalViews < 1 || totalViews > 500) {
            statusMessage.style.color = 'red';
            statusMessage.innerText = '‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç‡•§';
            return;
        }

        if (!videoUrl.includes('youtube.com') || !channelUrl.includes('youtube.com')) {
            statusMessage.style.color = 'red';
            statusMessage.innerText = '‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä YouTube URL ‡§°‡§æ‡§≤‡•á‡§Ç‡•§';
            return;
        }

        statusMessage.style.color = '#ff8c00'; // Orange
        statusMessage.innerText = '‚è≥ ‡§¨‡•Ç‡§∏‡•ç‡§ü ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...';

        // Data payload matching the new /youtube-boost-mp endpoint
        const payload = {
            ga_id: gaId,
            api_key: apiSecret,
            views: totalViews,
            video_url: videoUrl,
            channel_url: channelUrl
        };

        fetch(API_URL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(payload),
        })
        .then(response => response.json())
        .then(data => {
            if (data.status === 'accepted') {
                statusMessage.style.color = 'green';
                statusMessage.innerText = `‚úÖ SUCCESS! ${data.message} ‡§Ö‡§¨ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç‡•§`;
            } else {
                statusMessage.style.color = 'red';
                // Display the specific validation error message from the server
                statusMessage.innerText = `‚ùå ERROR: ${data.message || '‡§Ö‡§ú‡•ç‡§û‡§æ‡§§ ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø'}`; 
            }
        })
        .catch(error => {
            console.error('Fetch Error:', error);
            statusMessage.style.color = 'red';
            statusMessage.innerText = `‚ùå CRITICAL ERROR: ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§∏‡•á ‡§ï‡§®‡•á‡§ï‡•ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§∏‡§ï‡§æ‡•§`;
        });
    }
</script>

</body>
</html>

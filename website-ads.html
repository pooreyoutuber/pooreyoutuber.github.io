<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Mining Manager - College Project</title>
    <style>
        /* --- CSS: Modern Dark Theme --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1e1e2f; /* Dark Purple/Blue Background */
            color: #f0f0f0; /* Light Text */
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .dashboard-container {
            background-color: #2a2a44;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 800px;
        }

        h1 {
            color: #64ffda; /* Aqua accent color */
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #3c3c5a;
            padding-bottom: 10px;
        }

        /* --- Control Panel Styling --- */
        .control-panel, .status-panel {
            margin-bottom: 25px;
            padding: 20px;
            border-radius: 8px;
            background-color: #3c3c5a;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #c9c9d8;
        }

        input[type="text"], select {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #4a4a6b;
            border-radius: 5px;
            background-color: #1e1e2f;
            color: #f0f0f0;
            font-size: 16px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        #startBtn {
            background-color: #64ffda;
            color: #1e1e2f;
        }

        #startBtn:hover {
            background-color: #30f0c0;
        }

        #stopBtn {
            background-color: #ff6464;
            color: white;
        }

        #stopBtn:hover {
            background-color: #e04a4a;
        }

        /* --- Status Panel Styling --- */
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .status-box {
            background-color: #2a2a44;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .status-label {
            font-size: 14px;
            color: #a0a0b8;
            margin-bottom: 5px;
        }

        .status-value {
            font-size: 24px;
            font-weight: bold;
            color: #64ffda;
        }
        
        #current-status {
            text-align: center;
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
            color: #ffcc66;
        }
    </style>
</head>
<body>

<div class="dashboard-container">
    <h1>üöÄ ‡§Ø‡•Ç‡§®‡§ø‡§µ‡§∞‡•ç‡§∏‡§≤ ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§Æ‡•à‡§®‡•á‡§ú‡§∞</h1>

    <div class="control-panel">
        <h2>‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£ ‡§™‡•à‡§®‡§≤ (Control Panel)</h2>

        <label for="coinSelect">‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü‡•ã‡§ï‡§∞‡•á‡§Ç‡§∏‡•Ä ‡§ö‡•Å‡§®‡•á‡§Ç (Select Coin):</label>
        <select id="coinSelect">
            <option value="XMR">1. Monero (XMR) - CPU Mining</option>
            <option value="ETC">2. Ethereum Classic (ETC) - GPU Mining</option>
            <option value="RVN">3. Ravencoin (RVN) - GPU Mining</option>
        </select>

        <label for="speedSelect">‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§∏‡•ç‡§™‡•Ä‡§° / ‡§∞‡§ø‡§∏‡•ã‡§∞‡•ç‡§∏ ‡§â‡§™‡§Ø‡•ã‡§ó (Speed / Resource Usage):</label>
        <select id="speedSelect">
            <option value="Low">Low (30% CPU/GPU Load)</option>
            <option value="Medium">Medium (60% CPU/GPU Load)</option>
            <option value="High">High (90% CPU/GPU Load)</option>
        </select>

        <label for="walletInput">Trust Wallet ‡§™‡§§‡§æ (Withdrawal Wallet Address):</label>
        <input type="text" id="walletInput" placeholder="‡§ú‡•à‡§∏‡•á: 0x... (ETC/RVN) ‡§Ø‡§æ 4... (XMR)">

        <div class="button-group">
            <button class="btn" id="startBtn" onclick="startMining()">‚õèÔ∏è Mining ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</button>
            <button class="btn" id="stopBtn" onclick="stopMining()">üõë Mining ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç</button>
        </div>
    </div>

    <div class="status-panel">
        <h2>‡§∞‡§ø‡§Ø‡§≤-‡§ü‡§æ‡§á‡§Æ ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏ (Real-Time Status)</h2>
        
        <div id="current-status">‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§¨‡§Ç‡§¶ ‡§π‡•à‡•§</div>

        <div class="status-grid">
            
            <div class="status-box">
                <div class="status-label">‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§π‡•à‡§∂ ‡§∞‡•á‡§ü (Current Hash Rate)</div>
                <div class="status-value" id="hashRate">0.0 H/s</div>
            </div>

            <div class="status-box">
                <div class="status-label">‡§™‡•Ç‡§≤ ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏ / ‡§ü‡•ã‡§ü‡§≤ ‡§ï‡•â‡§á‡§® (Unpaid Balance)</div>
                <div class="status-value" id="totalCoin">0.000000 XMR</div>
            </div>
            
            <div class="status-box">
                <div class="status-label">‡§Ö‡§ó‡§≤‡§æ ‡§™‡•á‡§Ü‡§â‡§ü ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§® (Auto-Transfer Timing)</div>
                <div class="status-value" id="payoutEstimate">N/A</div>
            </div>
            
            <div class="status-box">
                <div class="status-label">‡§§‡§æ‡§™‡§Æ‡§æ‡§® (Temperature)</div>
                <div class="status-value" id="temperature">-- ¬∞C</div>
            </div>
        </div>
    </div>
</div>

<script>
    // --- JavaScript: Frontend Logic ---

    // Node.js Backend API Endpoints (‡§á‡§®‡•ç‡§π‡•á‡§Ç ‡§Ü‡§™‡§ï‡•á Node.js ‡§ï‡•ã‡§° ‡§∏‡•á ‡§Æ‡•à‡§ö ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è)
    const API_START = 'https://pooreyoutuber-github-io-blmp.onrender.com/api/start-mining';
    const API_STOP = 'https://pooreyoutuber-github-io-blmp-onrender.com/api/stop-mining';
    const API_STATUS = 'https://pooreyoutuber-github-io-blmp.onrender.com/api/status'; // Pool API data

    let statusInterval;

    /**
     * ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è Node.js ‡§¨‡•à‡§ï‡§è‡§Ç‡§° ‡§ï‡•ã ‡§°‡•á‡§ü‡§æ ‡§≠‡•á‡§ú‡•á‡§Ç‡•§
     */
    function startMining() {
        const coin = document.getElementById('coinSelect').value;
        const speed = document.getElementById('speedSelect').value;
        const wallet = document.getElementById('walletInput').value;

        if (!wallet) {
            alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ Trust Wallet ‡§™‡§§‡§æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§');
            return;
        }

        document.getElementById('current-status').textContent = '‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‚è≥ ' + coin + ' ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...';
        
        // --- 1. Node.js ‡§¨‡•à‡§ï‡§è‡§Ç‡§° ‡§ï‡•ã ‡§∏‡•ç‡§ü‡§æ‡§∞‡•ç‡§ü ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§≠‡•á‡§ú‡•á‡§Ç ---
        fetch(API_START, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ coin, speed, wallet })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                document.getElementById('current-status').textContent = `‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‚úÖ ${coin} ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§ö‡§≤ ‡§∞‡§π‡•Ä ‡§π‡•à!`;
                // ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§®‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç
                statusInterval = setInterval(updateStatus, 15000); // ‡§π‡§∞ 15 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§Æ‡•á‡§Ç ‡§Ö‡§™‡§°‡•á‡§ü
            } else {
                document.getElementById('current-status').textContent = '‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‚ùå ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤‡§§‡§æ: ' + data.error;
            }
        })
        .catch(error => {
            console.error('API Error:', error);
            document.getElementById('current-status').textContent = '‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‚ùå ‡§∏‡§∞‡•ç‡§µ‡§∞/‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡•§';
        });
    }

    /**
     * ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è Node.js ‡§¨‡•à‡§ï‡§è‡§Ç‡§° ‡§ï‡•ã ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§≠‡•á‡§ú‡•á‡§Ç‡•§
     */
    function stopMining() {
        clearInterval(statusInterval);
        document.getElementById('current-status').textContent = '‡§∏‡•ç‡§•‡§ø‡§§‡§ø: üõë ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§¨‡§Ç‡§¶ ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à...';
        
        fetch(API_STOP, { method: 'POST' })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                document.getElementById('current-status').textContent = '‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§¨‡§Ç‡§¶ ‡§π‡•à‡•§';
                // ‡§∏‡§≠‡•Ä ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏ ‡§ï‡•ã ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
                document.getElementById('hashRate').textContent = '0.0 H/s';
                document.getElementById('totalCoin').textContent = '0.000000 XMR';
                document.getElementById('payoutEstimate').textContent = 'N/A';
                document.getElementById('temperature').textContent = '-- ¬∞C';

            } else {
                document.getElementById('current-status').textContent = '‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‚ùå ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤‡§§‡§æ‡•§';
            }
        })
        .catch(error => {
            console.error('API Error:', error);
            document.getElementById('current-status').textContent = '‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‚ùå ‡§∏‡§∞‡•ç‡§µ‡§∞/‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡•§';
        });
    }

    /**
     * Node.js ‡§¨‡•à‡§ï‡§è‡§Ç‡§° ‡§∏‡•á ‡§∞‡§ø‡§Ø‡§≤-‡§ü‡§æ‡§á‡§Æ ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏ ‡§î‡§∞ ‡§™‡•Ç‡§≤ ‡§°‡•á‡§ü‡§æ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§
     */
    function updateStatus() {
        const selectedCoin = document.getElementById('coinSelect').value;
        const wallet = document.getElementById('walletInput').value;

        // ‡§Ø‡§¶‡§ø ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§∂‡•Å‡§∞‡•Ç ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Å‡§à ‡§π‡•à, ‡§§‡•ã ‡§Ü‡§ó‡•á ‡§® ‡§¨‡§¢‡§º‡•á‡§Ç
        if (!statusInterval || !wallet) return; 

        // --- 2. Node.js ‡§¨‡•à‡§ï‡§è‡§Ç‡§° ‡§∏‡•á ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏ ‡§°‡•á‡§ü‡§æ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç ---
        fetch(`${API_STATUS}?coin=${selectedCoin}&wallet=${wallet}`)
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // ‡§™‡•Ç‡§≤ ‡§°‡•á‡§ü‡§æ ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ UI ‡§ï‡•ã ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
                document.getElementById('hashRate').textContent = `${data.hashRate} ${data.unit}`;
                
                // Total Coin (‡§™‡•Ç‡§≤ ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏)
                document.getElementById('totalCoin').textContent = `${data.balance.toFixed(6)} ${selectedCoin}`;
                
                // Auto-Transfer Timing (‡§™‡•á‡§Ü‡§â‡§ü ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®)
                if (data.timeToPayout) {
                    document.getElementById('payoutEstimate').textContent = data.timeToPayout;
                    if (data.isThresholdReached) {
                        document.getElementById('payoutEstimate').style.color = '#ff64da';
                        document.getElementById('payoutEstimate').textContent = '‚úÖ ‡§™‡•á‡§Ü‡§â‡§ü ‡§∏‡•Ä‡§Æ‡§æ ‡§™‡•Ç‡§∞‡•Ä! ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä Trust Wallet ‡§Æ‡•á‡§Ç ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏‡§´‡§∞ ‡§π‡•ã‡§ó‡§æ‡•§';
                    } else {
                         document.getElementById('payoutEstimate').style.color = '#64ffda';
                    }
                } else {
                    document.getElementById('payoutEstimate').textContent = '‡§ó‡§£‡§®‡§æ ‡§ú‡§æ‡§∞‡•Ä...';
                }
                
                // ‡§§‡§æ‡§™‡§Æ‡§æ‡§® (GPU ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è)
                document.getElementById('temperature').textContent = data.temp ? `${data.temp} ¬∞C` : '-- ¬∞C';
                
            } else {
                console.error("Status fetch failed:", data.error);
                document.getElementById('current-status').textContent = '‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‚ö†Ô∏è ‡§°‡•á‡§ü‡§æ ‡§∏‡§ø‡§Ç‡§ï ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡•§';
            }
        })
        .catch(error => {
            console.error('API Error:', error);
            document.getElementById('current-status').textContent = '‡§∏‡•ç‡§•‡§ø‡§§‡§ø: ‚ùå ‡§°‡•á‡§ü‡§æ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡•§';
        });
    }
    
    // UI ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§Æ‡§æ‡§á‡§®‡§∞ ‡§ï‡•ã ‡§¨‡§Ç‡§¶ ‡§¶‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è‡•§
    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('stopBtn').disabled = true;
        document.getElementById('startBtn').disabled = false;
    });
</script>

</body>
</html>

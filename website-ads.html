<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional YouTube Engagement Booster</title>
    <style>
        /* Base Styling & Professional Look */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f3f6; /* Light Background */
        }
        
        /* Main Container */
        .container {
            max-width: 750px;
            margin: 40px auto;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        /* Tool Header - YouTube Theme */
        .tool-header {
            text-align: center;
            padding: 30px 0;
            background-color: #cc0000; /* YouTube Red */
            color: white;
        }
        .tool-header h2 {
            margin: 0;
            font-size: 32px;
            font-weight: 700;
        }
        .tool-header p {
            margin: 8px 0 0;
            font-size: 18px;
            opacity: 0.9;
        }

        /* Form Section */
        .form-section {
            padding: 30px;
        }
        .form-section label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        .form-section input[type="text"],
        .form-section input[type="number"],
        .form-section textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 16px;
        }
        .form-section textarea {
            resize: vertical;
            min-height: 80px;
        }

        /* Keys Section */
        .keys-section {
            background-color: #fff3cd; /* Light warning yellow */
            border: 1px solid #ffeeba;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        .keys-section input {
            background-color: #fffdf5;
        }


        /* Submit Button */
        .submit-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #008cba; /* A strong blue */
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .submit-btn:hover {
            background-color: #006b8e;
        }

        /* Status Message */
        #statusMessage {
            margin-top: 25px;
            padding: 15px;
            border-radius: 6px;
            font-weight: 600;
            text-align: center;
            background-color: #e9f5ff;
            color: #007bff;
            border: 1px solid #cce5ff;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="tool-header">
        <h2>üöÄ YouTube Views & Engagement Booster (Demo Mode)</h2>
        <p>Keys are required here for quick testing without server redeployment.</p>
    </div>

    <div class="form-section">
        
        <div class="keys-section">
            <label for="gaId">YouTube GA ID (Measurement ID, e.g., G-XXXXXXXXXX)</label>
            <input type="text" id="gaId" placeholder="Your YouTube GA ID" required>
            
            <label for="apiSecret">API Secret Key (From GA4 Stream)</label>
            <input type="text" id="apiSecret" placeholder="Your API Secret" required>
        </div>
        
        <label for="videoUrls">Videos URLs (One per line, max 5)</label>
        <textarea id="videoUrls" placeholder="Example:
https://www.youtube.com/watch?v=ABCDE12345
https://youtu.be/ZYXWV9876
https://www.youtube.com/shorts/XYZ12345" required></textarea>

        <label for="channelUrl">Your Channel URL (Subscriber Action ‡§ï‡•á ‡§≤‡§ø‡§è - ‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)</label>
        <input type="text" id="channelUrl" placeholder="Example: https://www.youtube.com/@YourChannelName (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)">

        <label for="totalViews">Total Views to Send (Max 2000)</label>
        <input type="number" id="totalViews" placeholder="e.g., 500" min="1" max="2000" required>
        
        
        <button class="submit-btn" onclick="getYoutubeBoost()">Start Background Boost (SUPER FAST)</button>

        <div id="statusMessage">
            Status: Ready to send views to your Render Server.
        </div>
    </div>
</div>

<script>
    // IMPORTANT: Change this to your Render Server URL
    const API_BASE_URL = 'https://pooreyoutuber-github-io-blmp.onrender.com'; // Replace with your Render URL (e.g., https://your-render-app.onrender.com)
    const API_URL = `${https://pooreyoutuber-github-io-blmp.onrender.com}/youtube-boost-mp`;

    function getYoutubeBoost() {
        // Keys are taken from the frontend inputs
        const gaId = document.getElementById('gaId').value.trim();
        const apiSecret = document.getElementById('apiSecret').value.trim();
        
        const videoUrlsInput = document.getElementById('videoUrls').value.trim();
        // Filtering out empty lines
        const videoUrls = videoUrlsInput.split('\n').map(url => url.trim()).filter(url => url.length > 0);
        const channelUrl = document.getElementById('channelUrl').value.trim(); 
        const totalViews = document.getElementById('totalViews').value.trim();
        const statusMessage = document.getElementById('statusMessage');

        // Validation 
        if (!gaId || !apiSecret || !videoUrlsInput || videoUrls.length === 0 || !totalViews) {
            statusMessage.style.color = 'red';
            statusMessage.innerText = '‚ùå ERROR: Please fill out all required fields (GA ID, API Secret, URLs, and Views).';
            return;
        }

        const viewCount = parseInt(totalViews);
        if (isNaN(viewCount) || viewCount < 1 || viewCount > 2000) {
            statusMessage.style.color = 'red';
            statusMessage.innerText = '‚ùå ERROR: Views must be a number between 1 and 2000.';
            return;
        }

        // üî•üî•üî• FIXED REGEX: Made the validation more robust to include /shorts/ and be less strict
        // This regex checks for: youtube.com/watch?v= or youtu.be/ or youtube.com/shorts/ followed by an 11-char ID. Protocol and www are optional.
        const validYoutubeUrlRegex = /^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|shorts\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})(?:[?&].*)?$/;
        
        const allValid = videoUrls.every(url => url.match(validYoutubeUrlRegex));

        if (!allValid) {
            statusMessage.style.color = 'red';
            statusMessage.innerText = '‚ùå ERROR: One or more provided URLs are not valid YouTube links (e.g., missing 11-character ID, or incorrect format).';
            return;
        }

        statusMessage.style.color = '#ff8c00'; // Orange
        statusMessage.innerText = '‚è≥ Initiating boost... (Validating Keys and Starting Server Process)';

        // Data payload includes GA Keys
        const payload = {
            ga_id: gaId, 
            api_key: apiSecret, 
            views: totalViews,
            video_urls: videoUrls, 
            channel_url: channelUrl
        };

        fetch(API_URL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(payload),
        })
        .then(response => response.json())
        .then(data => {
            if (data.status === 'accepted') {
                statusMessage.style.color = 'green';
                // Message emphasizes fast background processing
                statusMessage.innerText = `‚úÖ SUCCESS! Request for ${data.finalViews || viewCount} views accepted. Processing started in the background (SUPER FAST MODE). Now check YouTube Realtime Analytics!`;
            } else {
                statusMessage.style.color = 'red';
                statusMessage.innerText = `‚ùå ERROR: ${data.message || 'Unknown error occurred.'}. Check your Render server logs.`;
            }
        })
        .catch(error => {
            console.error('Fetch Error:', error);
            statusMessage.style.color = 'red';
            statusMessage.innerText = `‚ùå CRITICAL ERROR: Could not connect to the server. Check if your Render server is running and the API_BASE_URL is correct.`;
        });
    }
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flexible Website Booster</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f7f9fc; display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; padding: 20px 10px; color: #333; }
        .container { background-color: #ffffff; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); width: 100%; max-width: 600px; margin-bottom: 20px; }
        h2 { color: #007bff; margin-bottom: 20px; border-bottom: 2px solid #eee; padding-bottom: 10px; text-align: center; }
        label { display: block; text-align: left; margin-bottom: 5px; font-weight: bold; font-size: 0.95em; }
        input[type="text"], input[type="number"] { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; }
        button { background-color: #5cb85c; color: white; padding: 12px 20px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; width: 100%; margin-top: 10px; transition: background-color 0.3s; }
        button:hover { background-color: #4cae4c; }
        #message { margin-top: 25px; padding: 15px; border-radius: 8px; font-weight: bold; text-align: left; }
        .success { background-color: #d4edda; color: #155724; }
        .error { background-color: #f8d7da; color: #721c24; }
        .info { background-color: #fff3cd; color: #856404; }
        
        /* Multi-Page Styles */
        .page-entry { display: flex; gap: 10px; margin-bottom: 10px; align-items: center; }
        .page-entry input[type="text"] { flex-grow: 3; margin-bottom: 0; }
        .page-entry input[type="number"] { width: 60px; flex-grow: 0; margin-bottom: 0; text-align: center; }
        .percent-label { font-weight: bold; width: 30px; }
        .optional-section { border: 1px dashed #007bff; padding: 15px; border-radius: 8px; margin-top: 15px; background-color: #e6f7ff; }
        .optional-header { font-weight: bold; color: #007bff; cursor: pointer; margin-bottom: 10px; text-decoration: underline; }
        .tip-box { background-color: #f0f0f0; color: #333; padding: 15px; border-radius: 8px; margin-bottom: 20px; font-size: 0.9em; font-weight: 600; text-align: left;}
        #totalPercent { color: #007bff; }
    </style>
</head>
<body>
    <div class="container">
        <div class="tip-box">
            **‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§Ç:** ‡§Ø‡§π ‡§ü‡•Ç‡§≤ **Proxy/Browser ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡§æ** ‡§π‡•à‡•§ ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß (request) ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§π‡•ã ‡§ú‡§æ‡§®‡•á ‡§™‡§∞, ‡§Ü‡§™ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§µ‡•ç‡§Ø‡•Ç‡§ú‡§º **Render ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§™‡§∞** ‡§¨‡§®‡§§‡•á ‡§∞‡§π‡•á‡§Ç‡§ó‡•á‡•§
        </div>
        
        <h2>Flexible Website Booster üöÄ</h2>
        
        <form id="boosterForm">
            
            <label for="gaid">1. Google Analytics ID (G-XXXXX):</label>
            <input type="text" id="gaid" placeholder="e.g., G-A1B2C3D4E5" required autocomplete="off">
            
            <label for="apikey">2. API Secret (Measurement Protocol):</label>
            <input type="text" id="apikey" placeholder="Paste your generated API Secret" required autocomplete="off">
            
            <label for="views">3. Total Views to Generate (Max 500):</label>
            <input type="number" id="views" value="100" min="1" max="500" required autocomplete="off">
            
            <label for="url1">4. Primary Page URL:</label>
            <input type="text" id="url1" class="page-url" placeholder="e.g., https://pooreyoutuber.github.io/" required autocomplete="off">
            
            <div class="optional-section">
                <div class="optional-header" onclick="toggleMultiPage()">
                    + **PRO Mode:** ‡§Æ‡§≤‡•ç‡§ü‡•Ä‡§™‡§≤ ‡§™‡•á‡§ú ‡§™‡§∞ ‡§µ‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§°‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§¨‡•ç‡§Ø‡•Ç‡§ü ‡§ï‡§∞‡•á‡§Ç (‡§¶‡§ø‡§ñ‡§æ‡§®‡•á/‡§õ‡§ø‡§™‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç)
                </div>
                
                <div id="multiPageSection" style="display:none;">
                    <p style="font-size: 0.9em; color: #d9534f; margin-bottom: 10px;">
                        ‚ö†Ô∏è **Total Percentage** ‡§π‡§Æ‡•á‡§∂‡§æ **100%** ‡§π‡•ã‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è‡•§
                    </p>
                    
                    <div class="page-entry">
                        <label style="width: 100%; text-align: left;">Primary Page (%):</label>
                        <input type="number" id="percent1" class="page-percent" value="100" min="0" max="100" required>
                        <span class="percent-label">%</span>
                    </div>

                    <label>Secondary Page URL (Optional):</label>
                    <div class="page-entry">
                        <input type="text" id="url2" class="page-url" placeholder="e.g., https://site.com/tool-1">
                        <input type="number" id="percent2" class="page-percent" value="0" min="0" max="100" required>
                        <span class="percent-label">%</span>
                    </div>

                    <label>Tertiary Page URL (Optional):</label>
                    <div class="page-entry">
                        <input type="text" id="url3" class="page-url" placeholder="e.g., https://site.com/about">
                        <input type="number" id="percent3" class="page-percent" value="0" min="0" max="100" required>
                        <span class="percent-label">%</span>
                    </div>
                    
                    <p style="text-align: right; margin-top: 10px;">
                        Total Percentage: <span id="totalPercent">100</span>%
                    </p>
                </div>
            </div>
            
            <button type="submit" id="submitBtn">Generate Traffic & Close Browser</button>
        </form>
        
        <div id="message"></div>
    </div>
    
    <script>
        // üö® IMPORTANT: ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§™‡§ï‡•ã ‡§Ö‡§™‡§®‡§æ Render API URL ‡§°‡§æ‡§≤‡§®‡§æ ‡§π‡•à
        const RENDER_API_URL = 'https://pooreyoutuber-github-io.onrender.com/boost-mp'; 
        const STORAGE_KEY = 'booster_details_v3'; 
        
        const form = document.getElementById('boosterForm');
        const messageDiv = document.getElementById('message');
        const submitBtn = document.getElementById('submitBtn');
        const totalPercentSpan = document.getElementById('totalPercent');
        const multiPageSection = document.getElementById('multiPageSection');

        // --- UI & Storage ---
        function loadSavedDetails() {
            const savedData = localStorage.getItem(STORAGE_KEY);
            if (savedData) {
                try {
                    const data = JSON.parse(savedData);
                    document.getElementById('gaid').value = data.gaid || '';
                    document.getElementById('apikey').value = data.apikey || '';
                    document.getElementById('views').value = data.views || '100';
                    document.getElementById('url1').value = data.pages[0].url || '';
                    
                    if (data.multiMode === true) {
                        multiPageSection.style.display = 'block';
                        document.getElementById('percent1').value = data.pages[0].percent || '40';
                        document.getElementById('url2').value = data.pages[1]?.url || '';
                        document.getElementById('percent2').value = data.pages[1]?.percent || '30';
                        document.getElementById('url3').value = data.pages[2]?.url || '';
                        document.getElementById('percent3').value = data.pages[2]?.percent || '30';
                    }
                } catch (e) { /* Error ignored */ }
                updateDisplayTotal();
            }
        }

        function saveDetails(gaid, apikey, views, pages, multiMode) {
            const data = { gaid, apikey, views, pages, multiMode };
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        }

        function toggleMultiPage() {
            if (multiPageSection.style.display === 'none') {
                multiPageSection.style.display = 'block';
                // Set default realistic distribution when switching to PRO mode
                document.getElementById('percent1').value = 40;
                document.getElementById('percent2').value = 30;
                document.getElementById('percent3').value = 30;
            } else {
                multiPageSection.style.display = 'none';
                // Set to 100% for single mode (Primary URL)
                document.getElementById('percent1').value = 100;
                document.getElementById('percent2').value = 0;
                document.getElementById('percent3').value = 0;
            }
            updateDisplayTotal();
        }
        window.toggleMultiPage = toggleMultiPage;

        function updateDisplayTotal() {
            let total = 0;
            document.querySelectorAll('.page-percent').forEach(input => {
                total += parseInt(input.value) || 0;
            });
            totalPercentSpan.textContent = total;
            totalPercentSpan.style.color = total === 100 ? '#007bff' : '#d9534f';
            return total;
        }
        document.querySelectorAll('.page-percent').forEach(input => {
            input.addEventListener('input', updateDisplayTotal);
        });

        // --- Main Logic ---
        form.addEventListener('submit', function(event) {
            event.preventDefault();
            
            const gaId = document.getElementById('gaid').value.trim();
            const apiKey = document.getElementById('apikey').value.trim();
            let viewsCount = parseInt(document.getElementById('views').value);
            const url1 = document.getElementById('url1').value.trim();
            
            if (!url1 || !gaId || !apiKey || viewsCount < 1) {
                showMessage('error', '‚ùå ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: GA Keys, Views, ‡§î‡§∞ Primary URL ‡§≠‡§∞‡§®‡§æ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§π‡•à‡•§', true);
                return;
            }

            const isMultiMode = multiPageSection.style.display !== 'none';
            let pages = [];
            
            if (isMultiMode) {
                const totalPercent = updateDisplayTotal();
                if (totalPercent !== 100) {
                    showMessage('error', `‚ùå ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: Total percentage 100% ‡§π‡•ã‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§Æ‡•á‡§Ç ${totalPercent}% ‡§π‡•à‡•§`, true);
                    return;
                }
                
                // Collect custom multi-page distribution
                pages = [
                    { url: url1, percent: parseInt(document.getElementById('percent1').value) },
                    { url: document.getElementById('url2').value.trim(), percent: parseInt(document.getElementById('percent2').value) },
                    { url: document.getElementById('url3').value.trim(), percent: parseInt(document.getElementById('percent3').value) },
                ].filter(p => p.url && p.percent > 0);

            } else {
                // Beginner/Single URL Mode (URL1 gets 100%)
                pages = [{ url: url1, percent: 100 }];
            }

            if (pages.length === 0) {
                 showMessage('error', '‚ùå ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: URL/Distribution Plan ‡§ñ‡§æ‡§≤‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ‡•§', true);
                 return;
            }

            saveDetails(gaId, apiKey, viewsCount, pages, isMultiMode); 
            const payload = { ga_id: gaId, api_key: apiKey, views: viewsCount, pages: pages };
            
            submitData(payload, 2); // 2 retries means 3 total attempts
        });

        async function submitData(data, retriesLeft) {
            submitBtn.disabled = true;
            
            if (retriesLeft < 2) {
                submitBtn.textContent = `‚ö†Ô∏è Render Server ‡§ï‡•ã ‡§ú‡§ó‡§æ‡§Ø‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à‡•§ 5 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§Æ‡•á‡§Ç ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏...`;
                showMessage('info', `‚ö†Ô∏è Render Server ‡§ï‡•ã ‡§ú‡§ó‡§æ‡§Ø‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à‡•§ 5 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§Æ‡•á‡§Ç ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏...`, false);
                await new Promise(resolve => setTimeout(resolve, 5000));
            } else {
                submitBtn.textContent = '‚úÖ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§∂‡•Å‡§∞‡•Ç‡•§ ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ï‡•Ä ‡§ú‡§æ‡§Å‡§ö...';
                showMessage('info', '‚úÖ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§∂‡•Å‡§∞‡•Ç‡•§ ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ï‡•Ä ‡§ú‡§æ‡§Å‡§ö...', false);
            }
            
            try {
                const response = await fetch(RENDER_API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP Error: ${response.status}`);
                }
                
                const responseData = await response.json();

                if (responseData.status === 'processing' || responseData.status === 'ok') {
                    showMessage('success', `‚ú® ‡§∏‡§´‡§≤‡§§‡§æ! ${data.views} ‡§µ‡•ç‡§Ø‡•Ç‡§ú‡§º ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ‡•§ ‡§Ö‡§¨ ‡§Ü‡§™ ‡§á‡§∏ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§ï‡•ã ‡§¨‡§Ç‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§`, true);
                } else {
                    showMessage('error', `‚ùå API ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ${responseData.message || '‡§Ö‡§ú‡•ç‡§û‡§æ‡§§ ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡•§ Render Logs ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§'}.`, true);
                }

            } catch (error) {
                if (retriesLeft > 0) {
                    return submitData(data, retriesLeft - 1);
                } else {
                    showMessage('error', `‚ùå ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: 3 ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏‡•ã‡§Ç ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§≠‡•Ä Render ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã ‡§∏‡§ï‡§æ‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø Render service LIVE ‡§π‡•à‡•§`, true);
                }
            } 
            
            submitBtn.disabled = false;
            submitBtn.textContent = 'Generate Traffic & Close Browser';
        }

        document.addEventListener('DOMContentLoaded', () => {
             loadSavedDetails();
             updateDisplayTotal();
        });
    </script>
</body>
</html>

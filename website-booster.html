<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Booster Free Tool</title>
    <style>
        /* Base Styles and Responsiveness */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f3f8; display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; padding: 20px 10px; color: #333; }
        .container { background-color: #ffffff; padding: 30px; border-radius: 15px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15); width: 100%; max-width: 650px; margin-bottom: 20px; border-top: 5px solid #007bff; }
        h2 { color: #007bff; margin-bottom: 25px; font-size: 2em; text-align: center; font-weight: 700; }
        
        /* Input Field Styling */
        label { display: block; text-align: left; margin-bottom: 5px; font-weight: bold; font-size: 0.95em; color: #333; }
        input[type="text"], input[type="number"] { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; font-size: 1em; }
        
        /* Page Distribution Grid */
        .page-entry { display: flex; gap: 10px; margin-bottom: 15px; align-items: center; }
        .page-entry input[type="text"] { flex-grow: 4; margin-bottom: 0; }
        .page-entry input[type="number"] { width: 60px; flex-grow: 0; margin-bottom: 0; text-align: center; background-color: #eef4ff; }
        .percent-label { font-weight: bold; width: 30px; }

        /* Total Percentage Display */
        .total-percent-display { text-align: right; margin-top: 15px; font-weight: bold; padding: 10px; border-top: 1px dashed #ccc; }
        #totalPercent { font-size: 1.2em; font-weight: 700; }

        /* Button Styling */
        button { background-color: #5cb85c; color: white; padding: 15px 20px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; margin-top: 25px; font-size: 1.1em; transition: background-color 0.3s; }
        button:hover { background-color: #4cae4c; }

        /* Message Box Styling */
        #message { margin-top: 25px; padding: 15px; border-radius: 8px; font-weight: bold; text-align: center; border: 1px solid transparent; }
        .success { background-color: #d4edda; color: #155724; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; color: #721c24; border-color: #f5c6cb; }
        .info { background-color: #fff3cd; color: #856404; border-color: #ffeeba; }
        
        /* Summary & Key Info Section */
        .info-card { background-color: #eef4ff; padding: 20px; border-radius: 10px; margin-top: 25px; }
        .info-card h3 { color: #007bff; margin-top: 0; border-bottom: 2px solid #007bff; padding-bottom: 5px; margin-bottom: 10px;}
        .key-guide { margin-top: 15px; padding-left: 20px;}
        .key-guide li { margin-bottom: 8px; }

    </style>
</head>
<body>
    <div class="container">
        <h2>Website Booster Free Tool</h2>
        
        <div class="info-card">
            <h3>Boost Your Website Traffic and Engagement</h3>
            <p style="font-size: 0.95em; line-height: 1.5;">
                This **Website Booster Tool** is designed to simulate natural, high-quality traffic to your pages by leveraging the Google Analytics 4 (GA4) Measurement Protocol API. By generating realistic session data, including randomized geo-locations, custom engagement times (30 to 120 seconds), and page view distribution, this tool helps you in several ways. It can **increase your total page views**, provide a **better average engagement time** metric in GA4, and help you analyze the performance of specific pages by driving traffic to them. This method is stable and runs entirely on the server side, ensuring your requests are processed reliably after submission. Use the multiple page options below to distribute the traffic across different sections of your website for a more organic and comprehensive boost. **Expected results will reflect in your GA4 dashboard within 24-48 hours** as Google processes the Measurement Protocol data.
            </p>
        </div>
        
        <form id="boosterForm">
            
            <label for="gaid">1. Google Analytics ID (G-XXXXX):</label>
            <input type="text" id="gaid" placeholder="Example: G-A1B2C3D4E5" required autocomplete="off">
            
            <label for="apikey">2. API Secret (Measurement Protocol Key):</label>
            <input type="text" id="apikey" placeholder="Paste your API Secret here" required autocomplete="off">
            
            <label for="views">3. Total Views to Generate (Max 500):</label>
            <input type="number" id="views" value="100" min="1" max="500" required autocomplete="off">
            
            <div style="margin-top: 25px;">
                <label>4. Page 1 URL and View % (Minimum 1 URL required):</label>
                <div class="page-entry">
                    <input type="text" id="url1" class="page-url" placeholder="https://yourwebsite.com/page-1" required autocomplete="off">
                    <input type="number" id="percent1" class="page-percent" value="100" min="0" max="100" required>
                    <span class="percent-label">%</span>
                </div>
                
                <label>5. Page 2 URL and View % (Optional):</label>
                <div class="page-entry">
                    <input type="text" id="url2" class="page-url" placeholder="https://yourwebsite.com/page-2">
                    <input type="number" id="percent2" class="page-percent" value="0" min="0" max="100" required>
                    <span class="percent-label">%</span>
                </div>

                <label>6. Page 3 URL and View % (Optional):</label>
                <div class="page-entry">
                    <input type="text" id="url3" class="page-url" placeholder="https://yourwebsite.com/page-3">
                    <input type="number" id="percent3" class="page-percent" value="0" min="0" max="100" required>
                    <span class="percent-label">%</span>
                </div>

                <label>7. Page 4 URL and View % (Optional):</label>
                <div class="page-entry">
                    <input type="text" id="url4" class="page-url" placeholder="https://yourwebsite.com/page-4">
                    <input type="number" id="percent4" class="page-percent" value="0" min="0" max="100" required>
                    <span class="percent-label">%</span>
                </div>
                
                <label>8. Page 5 URL and View % (Optional):</label>
                <div class="page-entry">
                    <input type="text" id="url5" class="page-url" placeholder="https://yourwebsite.com/page-5">
                    <input type="number" id="percent5" class="page-percent" value="0" min="0" max="100" required>
                    <span class="percent-label">%</span>
                </div>
            </div>
            
            <p class="total-percent-display">
                **Total Percentage (Required 100%):** <span id="totalPercent" style="color:#d9534f;">100</span>%
            </p>
            
            <button type="submit" id="submitBtn">Generate Traffic and Close Browser</button>
        </form>
        
        <div id="message"></div>

        <div class="info-card">
            <h3>Where to find your GA4 Keys:</h3>
            <ul class="key-guide">
                <li>**Google Analytics ID (G-XXXXX):** Found in your GA4 dashboard under **Admin > Data Streams**. Click on your Web stream, and the ID is visible at the top (e.g., G-ZPMC525FGT).</li>
                <li>**API Secret (Measurement Protocol Key):** Found in your GA4 dashboard under **Admin > Data Streams**. Click on your Web stream, then scroll down to **Measurement Protocol API Secrets**. Create a new one and copy the secret key (e.g., pSaScGPuTWa95eOdSkbV7w).</li>
            </ul>
        </div>
    </div>
    
    <script>
        // 🚨 FINAL RENDER API URL - DYNAMICALLY SET
        const RENDER_API_URL = 'https://pooreyoutuber-github-io.onrender.com/boost-mp'; 
        const STORAGE_KEY = 'booster_details_v5'; 
        
        const form = document.getElementById('boosterForm');
        const messageDiv = document.getElementById('message');
        const submitBtn = document.getElementById('submitBtn');
        const totalPercentSpan = document.getElementById('totalPercent');
        
        const pageInputs = [1, 2, 3, 4, 5].map(i => ({
            url: document.getElementById(`url${i}`),
            percent: document.getElementById(`percent${i}`)
        }));

        // --- Local Storage Functions ---
        function loadSavedDetails() {
            const savedData = localStorage.getItem(STORAGE_KEY);
            if (savedData) {
                try {
                    const data = JSON.parse(savedData);
                    document.getElementById('gaid').value = data.gaid || '';
                    document.getElementById('apikey').value = data.apikey || '';
                    document.getElementById('views').value = data.views || '100';
                    
                    data.pages.forEach((page, index) => {
                        if (index < 5) {
                            pageInputs[index].url.value = page.url || '';
                            pageInputs[index].percent.value = page.percent || '0';
                        }
                    });

                } catch (e) { /* Error ignored */ }
                updateDisplayTotal();
            }
        }

        function saveDetails(gaid, apikey, views, pages) {
            const data = { gaid, apikey, views, pages };
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        }

        // --- UI Functions ---
        function updateDisplayTotal() {
            let total = 0;
            document.querySelectorAll('.page-percent').forEach(input => {
                total += parseInt(input.value) || 0;
            });
            totalPercentSpan.textContent = total;
            totalPercentSpan.style.color = total === 100 ? '#5cb85c' : '#d9534f';
            return total;
        }
        document.querySelectorAll('.page-percent').forEach(input => {
            input.addEventListener('input', updateDisplayTotal);
        });

        function showMessage(type, message, reenable) {
            messageDiv.className = type;
            messageDiv.innerHTML = message;
            if (reenable) {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Generate Traffic and Close Browser';
            }
        }

        // --- Main Submission Logic ---
        form.addEventListener('submit', function(event) {
            event.preventDefault();
            
            const gaId = document.getElementById('gaid').value.trim();
            const apiKey = document.getElementById('apikey').value.trim();
            let viewsCount = parseInt(document.getElementById('views').value);
            
            if (!gaId || !apiKey || viewsCount < 1) {
                showMessage('error', '❌ Error: GA Keys, API Secret, and Total Views are required.', true);
                return;
            }

            const totalPercent = updateDisplayTotal();
            if (totalPercent !== 100) {
                showMessage('error', `❌ Error: Total percentage must be 100%, but it is ${totalPercent}%.`, true);
                return;
            }
            
            let pages = [];
            // Collect all pages with URL and percentage > 0
            pageInputs.forEach(input => {
                const url = input.url.value.trim();
                const percent = parseInt(input.percent.value) || 0;
                if (url && percent > 0) {
                    pages.push({ url: url, percent: percent });
                }
            });

            if (pages.length === 0) {
                 showMessage('error', '❌ Error: At least one Page URL (Page 1) with 100% must be filled.', true);
                 return;
            }

            saveDetails(gaId, apiKey, viewsCount, pages); 
            const payload = { ga_id: gaId, api_key: apiKey, views: viewsCount, pages: pages };
            
            submitData(payload, 2); 
        });

        async function submitData(data, retriesLeft) {
            submitBtn.disabled = true;
            
            if (retriesLeft < 2) {
                submitBtn.textContent = `⚠️ Pinging server... Retrying in 5 seconds...`;
                showMessage('info', `⚠️ Server is waking up. Retrying in 5 seconds...`, false);
                await new Promise(resolve => setTimeout(resolve, 5000));
            } else {
                submitBtn.textContent = '✅ Request initiated. Checking server status...';
                showMessage('info', '✅ Request initiated. Checking server status...', false);
            }
            
            try {
                const response = await fetch(RENDER_API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP Error: ${response.status}`);
                }
                
                const responseData = await response.json();

                if (responseData.status === 'processing' || responseData.status === 'ok') {
                    showMessage('success', `✨ Success! Request for ${data.views} views accepted. **Results expected within 24-48 hours.** You can close this browser now.`, true);
                } else {
                    showMessage('error', `❌ API Error: ${responseData.message || 'Unknown error. Check server logs.'}.`, true);
                }

            } catch (error) {
                if (retriesLeft > 0) {
                    return submitData(data, retriesLeft - 1);
                } else {
                    showMessage('error', `❌ Final Connection Error (3 attempts). Ensure your API service is LIVE and the URL is correct.`, true);
                }
            } 
        }

        document.addEventListener('DOMContentLoaded', () => {
             loadSavedDetails();
             updateDisplayTotal();
        });
    </script>
</body>
</html>

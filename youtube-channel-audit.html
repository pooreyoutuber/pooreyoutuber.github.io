<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro YouTube Channel SEO Auditor & Stable Report | PooreYouTuber Tools</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-doughnutlabel"></script>
    
    <style>
        /* ========================================================= */
        /* 1. DARK MODE CSS VARIABLES                                */
        /* ========================================================= */
        
        :root {
            /* Light Mode Defaults */
            --primary-color: #e62117; 
            --primary-dark: #b81912;
            --accent-color: #007bff; 
            --success-color: #28a745;
            --danger-color: #dc3545;
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-color: #343a40;
            --section-border-color: #212529;
            --border-light: #e9ecef;
            --disclaimer-border-color: #ffcc00; 
            --disclaimer-bg: #ffffff;
            --ai-tip-bg: #fff3cd;
            --ai-tip-border: #ffeeba;
            --ai-tip-text: #856404;
        }

        body.dark-mode {
            /* Dark Mode Overrides */
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #f0f0f0;
            --section-border-color: #f0f0f0;
            --border-light: #333;
            --disclaimer-border-color: #f39c12; 
            --disclaimer-bg: #2d2d2d;
            --ai-tip-bg: #2d2d00; /* Darker, subtle yellow for dark mode */
            --ai-tip-border: #444;
            --ai-tip-text: #ffd700; /* Goldish text */
            --primary-dark: #a1160f; /* Slightly darker hover for dark mode */
        }

        /* ========================================================= */
        /* 2. BASE STYLES & DARK MODE APPLICATION                    */
        /* ========================================================= */

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            padding: 20px;
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 1300px;
            margin: 0 auto;
        }

        /* Header and Search */
        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: background 0.3s;
        }

        header h1 {
            font-size: 2.2em;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .search-box {
            display: flex;
            gap: 15px;
            max-width: 700px;
            margin: 20px auto;
        }

        #channel-input {
            flex-grow: 1;
            padding: 12px 18px;
            border: 2px solid var(--border-light);
            border-radius: 8px;
            font-size: 1em;
            background: var(--card-bg);
            color: var(--text-color);
            transition: border-color 0.3s, background 0.3s, color 0.3s;
        }

        #audit-button {
            background-color: var(--primary-color);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        #audit-button:hover { background-color: var(--primary-dark); }

        /* Results Container */
        .results-container {
            background: var(--card-bg);
            padding: 35px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            transition: background 0.3s;
        }

        .hidden { display: none; }

        .section-title {
            margin: 40px 0 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--primary-color);
            color: var(--section-border-color);
            font-size: 1.6em;
            font-weight: 600;
            transition: color 0.3s;
        }

        /* Channel Summary */
        .channel-summary-grid {
            display: grid;
            grid-template-columns: 1fr 3fr 1.5fr;
            align-items: center;
            gap: 30px;
            padding: 20px;
            border-bottom: 1px solid var(--border-light);
            margin-bottom: 30px;
        }

        .avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--primary-color);
        }
        
        .stats-box {
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            border: 1px dashed var(--border-light);
            border-radius: 6px;
        }

        .stat-item {
            text-align: center;
            padding: 0 15px;
            color: var(--text-color);
        }
        
        .stat-item strong {
            display: block;
            font-size: 1.5em;
            color: var(--accent-color);
            margin-bottom: 5px;
        }
        
        .overall-score {
            font-size: 3em;
            font-weight: 800;
            color: var(--success-color);
            border: 5px solid var(--success-color);
            border-radius: 50%;
            width: 120px;
            height: 120px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-left: auto;
        }

        /* Graphs Grid */
        .graphs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .graph-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border-light);
            transition: background 0.3s, border-color 0.3s;
        }

        .graph-card h3 {
            font-size: 1.3em;
            margin-bottom: 15px;
            color: var(--text-color);
            border-left: 4px solid var(--accent-color);
            padding-left: 10px;
        }

        /* Video Lists */
        .video-lists-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .video-list-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border-light);
            transition: background 0.3s;
        }

        .video-list-card h3 {
            margin-top: 0;
            font-size: 1.4em;
            color: var(--success-color);
            border-bottom: 2px solid var(--success-color);
            padding-bottom: 5px;
        }

        .video-list-card.low-performing h3 {
            color: var(--danger-color);
            border-bottom: 2px solid var(--danger-color);
        }

        .video-list {
            list-style: none;
            padding: 0;
        }

        .video-list li {
            padding: 10px 0;
            border-bottom: 1px solid var(--border-light);
            font-size: 0.95em;
        }

        .video-list li:last-child { border-bottom: none; }
        
        .video-list li strong { color: var(--accent-color); margin-right: 10px; }

        /* AI Tips Section */
        .ai-tip-section {
            background: var(--ai-tip-bg); 
            border: 1px solid var(--ai-tip-border);
            color: var(--ai-tip-text);
            padding: 30px;
            border-radius: 10px;
            margin-top: 30px;
        }
        
        .ai-tip-section h2 {
            color: var(--ai-tip-text);
            border-bottom: 2px dashed var(--ai-tip-border);
        }
        
        /* Disclaimer Section */
        .disclaimer-section {
            max-width: 1200px;
            margin: 40px auto; 
            padding: 30px;
            background: var(--disclaimer-bg); 
            border: 1px solid var(--disclaimer-border-color); 
            border-radius: 12px;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
            font-size: 0.9em;
            color: var(--secondary-text-color, #6c757d); 
            transition: background 0.3s;
        }

        .disclaimer-section .section-title {
            border-bottom: 2px solid var(--disclaimer-border-color);
            color: var(--text-color);
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.4em;
        }

        .disclaimer-section p {
            margin-bottom: 10px;
            padding-left: 5px;
        }
        /* ======================================= */

        /* ========================================================= */
        /* 3. MOBILE RESPONSIVENESS FIX                              */
        /* ========================================================= */
        @media (max-width: 1000px) {
            .channel-summary-grid {
                grid-template-columns: 1fr;
                text-align: center;
            }
            .overall-score {
                margin: 20px auto 0;
            }
            .stats-box {
                flex-wrap: wrap;
                margin-top: 20px;
            }
            .video-lists-grid {
                grid-template-columns: 1fr;
            }
            .graphs-grid {
                grid-template-columns: 1fr; /* Single column for graphs on smaller screens */
            }
        }
        
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            header {
                padding: 15px 0;
            }
            header h1 {
                font-size: 1.8em;
            }
            .container {
                margin: 0;
            }
            .results-container {
                padding: 15px;
            }
            
            /* Search Box Stacking */
            .search-box {
                flex-direction: column;
                gap: 10px;
            }
            #channel-input, #audit-button {
                width: 100%;
                border-radius: 8px;
            }

            .channel-summary-grid {
                padding: 10px;
            }
            .avatar {
                width: 80px;
                height: 80px;
            }
            .stat-item {
                padding: 5px 10px;
                flex-basis: 33%; /* Force stats to wrap */
                font-size: 0.8em;
            }
            .stat-item strong {
                font-size: 1.2em;
            }
            .overall-score {
                width: 90px;
                height: 90px;
                font-size: 2.5em;
            }

            .graph-card {
                padding: 15px;
            }
            .video-list-card {
                padding: 15px;
            }
            .ai-tip-section {
                padding: 20px;
            }
            .disclaimer-section {
                padding: 15px;
            }
            .section-title {
                font-size: 1.4em;
                margin: 20px 0 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fab fa-youtube"></i> YouTube SEO Auditing Tool üìä</h1>
            <p>Enter a channel URL or name to generate a Professional, static SEO performance report.</p>
        </header>

        <div class="search-box">
            <input type="text" id="channel-input" placeholder="Enter Channel URL or Name (e.g., T-Series or @MrBeast)">
            <button id="audit-button" onclick="startAudit()">Generate Report <i class="fas fa-file-invoice"></i></button>
        </div>

        <div id="audit-results" class="results-container hidden">
            
            <div class="channel-summary-grid">
                <img src="" alt="Channel Avatar" id="channel-avatar" class="avatar">
                
                <div class="channel-info">
                    <h2 id="channel-name" style="color: var(--primary-color);">PooreYouTuber Demo Channel</h2>
                    <p><strong>Channel ID:</strong> <span id="channel-id">UC\_P\_YT\_DEMO\_ID</span></p>
                    <div class="stats-box">
                        <div class="stat-item"><strong><span id="sub-count">1.2M</span></strong> Subscribers</div>
                        <div class="stat-item"><strong><span id="view-count">150M</span></strong> Total Views</div>
                        <div class="stat-item"><strong><span id="video-count">450</span></strong> Total Videos</div>
                    </div>
                </div>
                
                <div class="overall-score" id="overall-score-display">85%</div>
            </div>

            <h2 class="section-title"><i class="fas fa-chart-pie"></i> Performance & SEO Score Breakdown</h2>

            <div class="graphs-grid">
                <div class="graph-card">
                    <h3>Overall Engagement Score</h3>
                    <div style="height: 250px;"><canvas id="engagement-score-graph"></canvas></div>
                </div>
                <div class="graph-card">
                    <h3>Content Strategy Radar</h3>
                    <div style="height: 250px;"><canvas id="seo-health-graph"></canvas></div>
                </div>
                <div class="graph-card">
                    <h3>Keyword Density Score</h3>
                    <div style="height: 250px;"><canvas id="keyword-density-graph"></canvas></div>
                </div>
            </div>

            <h2 class="section-title"><i class="fas fa-list-ol"></i> Top 10 & Low Performing Videos</h2>

            <div class="video-lists-grid">
                <div class="video-list-card top-performing">
                    <h3><i class="fas fa-trophy"></i> Top 10 Videos (By Views/Engagement)</h3>
                    <ul class="video-list" id="top-videos-list">
                        </ul>
                </div>
                <div class="video-list-card low-performing">
                    <h3><i class="fas fa-bomb"></i> Lowest 10 Videos (Needs Improvement)</h3>
                    <ul class="video-list" id="low-videos-list">
                        </ul>
                </div>
            </div>

            <div class="ai-tip-section">
                <h2 class="section-title"><i class="fas fa-brain"></i> AI Recommended Strategy & Tips</h2>
                <p>Based on the current audit, your channel demonstrates strong volume ($\mathbf{450}$ Videos) but shows inconsistency in **Thumbnail/Branding** and **Call to Action (CTA)** implementation. The goal is to maximize the ROI of your content.</p>
                
                <ul>
                    <li>**Re-Optimize Low Performers:** The 10 lowest videos are dragging down your average. **Update their Thumbnails, Titles (use long-tail keywords), and Descriptions.** A fresh coat of paint can revive old content.</li>
                    <li>**Niche Consistency:** Your **Content Strategy Radar** shows a slight dip in **Niche Focus**. Ensure your next $\mathbf{15}$ videos align strictly with your top-performing content categories to build greater authority.</li>
                    <li>**AI Tip for Top Videos:** Analyze the common elements (Title structure, length, tone) of your **Top 10 Videos**. Replicate this successful formula for your next content batch to ensure continued success.</li>
                </ul>
                <p style="margin-top: 15px;">**Action:** Focus on $\mathbf{Branding\ Consistency}$ and $\mathbf{Re-tagging}$ low-performing videos for the next 30 days. This will stabilize your channel health score.</p>
            </div>
        </div>

        <div class="disclaimer-section">
            <h2 class="section-title"><i class="fas fa-gavel"></i> Comprehensive Website Disclaimer</h2>
            <p><strong>1. General Acceptance and Scope:</strong></p>
            <p>Welcome to **PooreYoutuber Tools** (the "Website"), which includes all associated features, resources, tools, services, and content (collectively, the "Services"). By accessing, browsing, or utilizing any of the tools available on this Website‚Äîwhether the **YouTube SEO Auditor**, a **Keyword Planner**, a **Title Analyzer**, or any other utility‚Äîyou acknowledge and agree to be bound by the terms and conditions outlined in this disclaimer. If you do not agree with these terms, your only recourse is to discontinue the use of our Services immediately.</p>
            <p>The purpose of this Website is to provide **general information, estimations, analysis, and educational resources** designed to assist content creators, digital marketers, and channel owners in understanding and improving their online presence and video performance.</p>

            <p><strong>2. Nature of Services and Limitation of Liability:</strong></p>
            <p>The tools and resources provided by PooreYoutuber Tools are developed independently and are **not endorsed, affiliated with, or officially sanctioned by YouTube, Google, or any other third-party platform** from which data may be derived or simulated. All results, scores, predictions, reports, and data visualizations generated by our Services are based on **simulated models, aggregated public metadata, and proprietary internal algorithms.** For example, the SEO Auditor's scores and the recommended video lists are derived from a pre-defined static structure and hypothetical data, making them **illustrative and informational, not factual guarantees.** **PooreYoutuber Tools makes absolutely no representation or warranty regarding the complete accuracy, reliability, timeliness, or completeness of the information, estimations, or analytics provided by any tool.**</p>

            <p><strong>3. User Responsibility and Absence of Professional Advice:</strong></p>
            <p>The content available through the Services, including any generated **AI Tips, strategic recommendations, or performance insights**, is for **informational and educational purposes only**. This information **does not constitute professional business, financial, or marketing advice**. You must exercise your own judgment and due diligence before implementing any strategies or making any decisions based on the output of our tools. We strongly recommend that users consult with qualified industry professionals for specific advice tailored to their business needs.</p>

            <p><strong>4. Technical and Third-Party Data Disclaimer (Future API Use):</strong></p>
            <p>This Website may contain links or references to external websites, platforms, or resources. By using our Services, you agree that your access and reliance on any information or tool output is **entirely at your own risk.** PooreYoutuber Tools, its operators, affiliates, and employees shall not be held liable for any damages, losses, or costs arising from the use of, or inability to use, our Services. If our tools are updated in the future to utilize live Application Programming Interfaces (APIs) for data collection, the **user remains solely responsible** for adhering to the terms and conditions of that third-party API and for ensuring the secure and compliant management of any API keys or credentials.</p>
        </div>
    </div>

<script>
    // Global variables to hold chart instances
    let engagementChart, seoHealthChart, keywordDensityChart;
    
    // Helper function for number formatting (e.g., 1200000 -> 1.2M)
    function formatNumber(num) {
        if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
        if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
        return num;
    }

    // --- SIMULATED DATA GENERATION (As per Disclaimer) ---
    function simulateAuditData(channelName) {
        // Static data to make the report feel stable and professional
        const defaultData = {
            name: channelName || "PooreYouTuber Demo Channel",
            id: "UC_" + Math.random().toString(36).substring(2, 11).toUpperCase(),
            avatar: "https://i.ibb.co/L5QyXQj/pooreyoutuber-demo-avatar.png", // Replace with a generic placeholder image URL
            subscribers: 1240000,
            views: 150000000,
            videos: 450,
            overallScore: 85,
            
            // Engagement Graph (Doughnut Chart)
            engagement: {
                labels: ['Engagement Score', 'Potential Gap'],
                data: [82, 18], // 82% score
                color: '#007bff'
            },
            
            // SEO Health Radar (Radar Chart)
            seoHealth: {
                labels: ['Niche Focus', 'Title SEO', 'Tags Strategy', 'Description Depth', 'Thumbnail/Branding', 'CTA Implementation'],
                data: [90, 85, 95, 80, 70, 75], // Scores out of 100
            },
            
            // Keyword Density (Doughnut Chart)
            keywordDensity: {
                labels: ['Relevant Keywords', 'Branding Tags', 'Long-Tail Keywords', 'Unrelated Tags'],
                data: [45, 25, 20, 10], // Percentage breakdown
            },
            
            // Top/Low Performing Videos
            topVideos: [
                { title: "Viral: Ultimate Guide to Video Editing 2024", views: 520000 },
                { title: "My First 1000 Subscribers Journey", views: 410000 },
                { title: "5 Mistakes I Made in My First Year", views: 350000 },
                { title: "Best Mic Under $100 Review", views: 310000 },
                { title: "How I Quadrupled My Watch Time", views: 280000 },
                { title: "SEO Secrets: Rank #1 on YouTube", views: 250000 },
                { title: "Editing Workflow for Faster Uploads", views: 230000 },
                { title: "Budget Camera Setup for Beginners", views: 210000 },
                { title: "Creating Killer Thumbnails in Photoshop", views: 195000 },
                { title: "Must-Have Tools for Every YouTuber", views: 180000 }
            ],
            
            lowVideos: [
                { title: "Vlog 4: Unedited Day in the Life", views: 1500 },
                { title: "Quick Livestream Test (Private Link)", views: 2100 },
                { title: "My Old Setup (No one asked)", views: 3500 },
                { title: "Testing New YouTube Feature Beta", views: 4200 },
                { title: "Unlisted Short: Behind the Scenes", views: 5000 },
                { title: "Channel Update (Old Niche)", views: 6500 },
                { title: "Random Gaming Clip (Unrelated)", views: 7100 },
                { title: "Outdated Tutorial (2018)", views: 8000 },
                { title: "Bad Audio Test", views: 9500 },
                { title: "Video with Clickbait Title (Low Retention)", views: 11000 }
            ]
        };
        
        return new Promise(resolve => {
            // Simulate network delay
            setTimeout(() => {
                resolve(defaultData);
            }, 1500); // 1.5 seconds delay
        });
    }

    // --- CHART INITIALIZATION AND RENDERING ---
    function initializeCharts(data) {
        // Destroy old charts if they exist
        if (engagementChart) engagementChart.destroy();
        if (seoHealthChart) seoHealthChart.destroy();
        if (keywordDensityChart) keywordDensityChart.destroy();
        
        const primaryColor = getComputedStyle(document.body).getPropertyValue('--primary-color').trim();
        const accentColor = getComputedStyle(document.body).getPropertyValue('--accent-color').trim();
        const dangerColor = getComputedStyle(document.body).getPropertyValue('--danger-color').trim();
        const text_color = getComputedStyle(document.body).getPropertyValue('--text-color').trim();

        // 1. Engagement Score Graph (Doughnut)
        const engagementCtx = document.getElementById('engagement-score-graph').getContext('2d');
        engagementChart = new Chart(engagementCtx, {
            type: 'doughnut',
            data: {
                labels: data.engagement.labels,
                datasets: [{
                    data: data.engagement.data,
                    backgroundColor: [
                        primaryColor, 
                        '#e9ecef' // Light background for the gap
                    ],
                    borderWidth: 0,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '70%',
                plugins: {
                    legend: { display: false },
                    tooltip: { enabled: false },
                    doughnutlabel: {
                        labels: [{
                            text: data.engagement.data[0] + '%',
                            font: { size: 30, weight: 'bold' },
                            color: primaryColor
                        }, {
                            text: 'Engagement',
                            font: { size: 14 },
                            color: text_color
                        }]
                    }
                }
            }
        });

        // 2. SEO Health Radar (Radar)
        const seoHealthCtx = document.getElementById('seo-health-graph').getContext('2d');
        seoHealthChart = new Chart(seoHealthCtx, {
            type: 'radar',
            data: {
                labels: data.seoHealth.labels,
                datasets: [{
                    label: 'Score (Max 100)',
                    data: data.seoHealth.data,
                    backgroundColor: 'rgba(0, 123, 255, 0.2)',
                    borderColor: accentColor,
                    pointBackgroundColor: accentColor,
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: accentColor
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                elements: { line: { borderWidth: 3 } },
                scales: {
                    r: {
                        angleLines: { color: getComputedStyle(document.body).getPropertyValue('--border-light').trim() },
                        grid: { color: getComputedStyle(document.body).getPropertyValue('--border-light').trim() },
                        pointLabels: { font: { size: 10 }, color: text_color },
                        suggestedMin: 0,
                        suggestedMax: 100,
                        ticks: { display: false }
                    }
                },
                plugins: { legend: { display: false } }
            }
        });

        // 3. Keyword Density Graph (Pie/Doughnut)
        const densityCtx = document.getElementById('keyword-density-graph').getContext('2d');
        keywordDensityChart = new Chart(densityCtx, {
            type: 'pie',
            data: {
                labels: data.keywordDensity.labels,
                datasets: [{
                    data: data.keywordDensity.data,
                    backgroundColor: [primaryColor, accentColor, dangerColor, '#6c757d'],
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right', labels: { color: text_color } },
                }
            }
        });
    }

    // --- DISPLAY REPORT LOGIC ---
    function displayReport(data) {
        document.getElementById('channel-avatar').src = data.avatar;
        document.getElementById('channel-name').textContent = data.name;
        document.getElementById('channel-id').textContent = data.id;
        
        document.getElementById('sub-count').textContent = formatNumber(data.subscribers);
        document.getElementById('view-count').textContent = formatNumber(data.views);
        document.getElementById('video-count').textContent = data.videos;
        
        document.getElementById('overall-score-display').textContent = data.overallScore + '%';
        
        // Populate Top Videos List
        const topList = document.getElementById('top-videos-list');
        topList.innerHTML = data.topVideos.map(v => 
            `<li><strong>${formatNumber(v.views)} Views:</strong> ${v.title}</li>`
        ).join('');
        
        // Populate Low Videos List
        const lowList = document.getElementById('low-videos-list');
        lowList.innerHTML = data.lowVideos.map(v => 
            `<li><strong>${formatNumber(v.views)} Views:</strong> ${v.title}</li>`
        ).join('');
        
        // Render Charts
        initializeCharts(data);
        
        // Show results and hide loading
        document.getElementById('loading-indicator').classList.add('hidden');
        document.getElementById('audit-results').classList.remove('hidden');
        document.getElementById('audit-button').disabled = false;
    }

    // --- MAIN AUDIT FUNCTION (Called by Button) ---
    async function startAudit() {
        const input = document.getElementById('channel-input');
        const channelName = input.value.trim();
        const resultsDiv = document.getElementById('audit-results');
        const loadingDiv = document.getElementById('loading-indicator');
        const auditButton = document.getElementById('audit-button');

        if (!channelName) {
            alert("Please enter a Channel URL or Name.");
            input.focus();
            return;
        }

        // Show Loading State
        auditButton.disabled = true;
        resultsDiv.classList.add('hidden');
        loadingDiv.classList.remove('hidden');

        try {
            const data = await simulateAuditData(channelName);
            displayReport(data);
            
            // Scroll to the results for better UX
            resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });

        } catch (error) {
            console.error("Audit failed:", error);
            loadingDiv.innerHTML = `<p style="color: ${getComputedStyle(document.body).getPropertyValue('--danger-color').trim()}">‚ùå Error generating report. Please try again. (Check console for details)</p>`;
            auditButton.disabled = false;
        }
    }
    
    // --- DARK MODE LOGIC (for Persistence and initialization) ---
    function applyDarkMode() {
        const isDarkMode = localStorage.getItem('darkModeEnabled') === 'true';
        if (isDarkMode) {
            document.body.classList.add('dark-mode');
        }
    }
    applyDarkMode();
    
    // Function to handle the dark mode toggle (If user adds a toggle button later)
    window.toggleDarkMode = function() {
        const isDarkMode = document.body.classList.toggle('dark-mode');
        localStorage.setItem('darkModeEnabled', isDarkMode);
        // Reinitialize charts to update colors dynamically
        if (document.getElementById('audit-results').classList.contains('hidden') === false) {
             startAudit(); // Just re-run the audit to refresh charts with new colors
        }
    };
    
</script>
</body>
</html>

